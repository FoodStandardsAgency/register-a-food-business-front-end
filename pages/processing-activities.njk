{% from "../node_modules/govuk-frontend/dist/govuk/components/checkboxes/macro.njk" import govukCheckboxes %}
{% from "../node_modules/govuk-frontend/dist/govuk/components/button/macro.njk" import govukButton %}
{% from "../components/PostForm.njk" import postForm %}
{% from "../components/CheckboxScript.njk" import checkboxScript %}
{% from "../components/ProcessedErrorSummary.njk" import processedErrorSummary %}
{% extends "layout.njk" %}
{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      {% call postForm(props.formAction, props.csrfToken, props.language) -%}
      {{ processedErrorSummary(props.validatorErrors, props.language) }}
      {{ govukCheckboxes({
      idPrefix: "processing_activities",
      name: "processing_activities",
      fieldset: {
        legend: {
          text: __("What food processing activities do you intend to carry out in your food business?", props.language),
          isPageHeading: true,
          classes: "govuk-fieldset__legend--l"
        }
      },
items: [
            {
            value: "VACUUM_PACKING",
            id: "VACUUM_PACKING",
            name: "processing_activities",
            text: __("Vacuum packing", props.language),
            checked: exists(props.cumulativeFullAnswers.processing_activities, "VACUUM_PACKING")
            },
            {
            value: "SOUS_VIDE",
            id: "SOUS_VIDE",
            name: "processing_activities",
            text: __("Sous vide", props.language),
            checked: exists(props.cumulativeFullAnswers.processing_activities, "SOUS_VIDE")
            },
            {
            value: "FERMENTING_OR_CURING",
            id: "FERMENTING_OR_CURING",
            name: "processing_activities",
            text: __("Fermenting and/or curing of meat and fish", props.language),
            checked: exists(props.cumulativeFullAnswers.processing_activities, "FERMENTING_OR_CURING")
            },
            {
            value: "PASTEURISING",
            id: "PASTEURISING",
            name: "processing_activities",
            text: __("Pasteurisation", props.language),
            checked: exists(props.cumulativeFullAnswers.processing_activities, "PASTEURISING")
            },
            {
            value: "ANIMAL_UNCOOKED",
            id: "ANIMAL_UNCOOKED",
            name: "processing_activities",
            text: __("Production of foods of animal origin that are not thoroughly cooked (for example steak tartare, ceviche, carpaccio)", props.language),
            checked: exists(props.cumulativeFullAnswers.processing_activities, "ANIMAL_UNCOOKED")
            },
            {
            value: "REWRAPPING_OR_RELABELLING",
            id: "REWRAPPING_OR_RELABELLING",
            name: "processing_activities",
            text: __("Rewrapping and relabelling previously wrapped food", props.language),
            checked: exists(props.cumulativeFullAnswers.processing_activities, "REWRAPPING_OR_RELABELLING")
            },
            {
            value: "NONE",
            id: "NONE",
            name: "processing_activities",
            text: __("None of these", props.language),
            checked: exists(props.cumulativeFullAnswers.processing_activities, "NONE")
            },
            {
            value: "DONT_KNOW",
            id: "DONT_KNOW",
            name: "processing_activities",
            text: __("Don't know", props.language),
            checked: exists(props.cumulativeFullAnswers.processing_activities, "DONT_KNOW")
            }
        ],
      errorMessage: {
            text: __(props.validatorErrors.processing_activities, props.language)} if props.validatorErrors.processing_activities
          }) }}
      {{ govukButton({
        text: __("Save and continue", props.language) if props.editModeFirstPage else __("Continue", props.language)
      }) }}
      {%- endcall %}
    </div>
  </div>
   {{ checkboxScript() }}
{% endblock %}