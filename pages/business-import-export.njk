{% from "govuk/components/checkboxes/macro.njk" import govukCheckboxes %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/details/macro.njk" import govukDetails %}

{% from "../components/PostForm.njk" import postForm %}
{% from "../components/ProcessedErrorSummary.njk" import processedErrorSummary %}

{% extends "layout.njk" %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      {% call postForm("/continue" + props.currentPage, props.csrfToken, props.language) -%}

        {{ processedErrorSummary(props.validatorErrors, props.language) }}

        {{ govukCheckboxes({
            idPrefix: "waste",
            name: "waste",
            fieldset: {
                legend: {
                text: "Will this food business import or export any food from outside the UK?",
                isPageHeading: true,
                classes: "govuk-fieldset__legend--l"
                }
            },
        hint: {
            text: "Select all that apply."
        },
        errorMessage: {
             text: __(props.validatorErrors.import_export_activities) } if props.validatorErrors.import_export_activities,
        items: [
            {
            id:  "import_export_activities_directly_export",
            name: "directly_import",
            value: "IMPORT",
            text: __("Directly import food"),
            checked: props.cumulativeFullAnswers.directly_import
            },
            {
            id: "import_export_activities_directly_export",
            name: "directly_export",
            value: "EXPORT",
            text:  __("Directly export food"),
            checked: props.cumulativeFullAnswers.directly_export
            },
            {
            id: "import_export_activities_none",
            name: "no_import_export",
            value: "NONE",
            text: __("No import or export activities"),
            checked: props.cumulativeFullAnswers.no_import_export
            }
        ]
        }) }}

       

        <br> 
        <br>
        {% set busImpExpLink = __("import/export-link") %}
        {% set busImpExpText = __("If a food business is directly importing or exporting food outside of the UK, there are some extra requirements for the business to follow.") %}

        {% set detailsSummaryText %}
        <span>
        {{ busImpExpText }}

        <br>
        {{__("Find out more by visiting the") }}
            <a href = {{ busImpExpLink }} 
                target="_blank"
                rel="noopener noreferrer"
                id="link-fsa-website" >  {{__("Food Standards Agency website (opens in new window)") }}
            </a>
        </span> 
        {% endset %}
        

         {{ govukDetails({
            summaryText: __("More information about import and export activities"),
            html:  detailsSummaryText 
            })
        }}
                
        <br>
        {{ govukButton({
            text: __("Continue")
        }) }}
     
      {% endcall%}

{% endblock%}