{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "../components/PostForm.njk" import postForm %}
{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "govuk/components/fieldset/macro.njk" import govukFieldset %}
{% from "govuk/components/details/macro.njk" import govukDetails %}
{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}

{% extends "layout.njk" %}
{% block content %}
{{ props.currentPageWithQuery }}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
        {% call postForm("/continue" + props.currentPage, props.csrfToken, props.language) -%}
        
        <div class="error-summary" role="alert" tabindex="-1" aria-labelledby="error-summary-heading">
            {{ govukErrorSummary({
            "titleText": "There is a problem",
            "errorList": [
                {
                "text": props.validatorErrors.establishment_postcode_find,
                "href": "#establishment_postcode_find"
                }
            ]
            }) }}
         </div>
            {% call govukFieldset({
                    legend: {
                        text: "What is the establishment's postcode?",
                        classes: "govuk-fieldset__legend--l",
                        isPageHeading: true
                    }
                    }) %}
            {% endcall %}
            {{ govukDetails({
                summaryText: "What is an establishment?",
                text: "An establishment is the location of your food business, and the food activities taking place there. If it is a mobile food business, please use the location where it is normally stored overnight."
                }) }}
            {{ govukInput({
                        "label": {
                        "text": "Postcode"
                        },
                        "id": "establishment_postcode_find",
                        "name": "establishment_postcode_find",
                        "classes": "govuk-input--width-10",
                        "autoComplete": "postal-code",
                        "errorMessage": props.validatorErrors.establishment_postcode_find
                    }) }}
            {{ govukButton({
                text: "Find address"
            }) }}
        {% endcall %}
 </div>
</div>
{% endblock %}